{% extends 'news_web/base.html' %}

{% block css %}
    {% load static %}
    <link rel="stylesheet" href="{% static 'css/index.css' %}">
{% endblock %}

{% block content %}
    <header class="header">
        <div class="logo">NEWS</div>

        <span class="clickable create-post"><a href="{% url 'create' %}">create post</a></span>

        <div class="user-info">
            <span class="username">Welcome, {{ user }}</span>
            <span class="clickable"><a href="{% url 'login' %}">login</a></span>
        </div>
    </header>
    <main class="main">
    {% if posts %}
        {% for post in posts %}
        <div class="post">
            <div class="actions">
                <div>
                    <span class="clickable">upvote</span>
                    <span class="counter">{{ post.upvotes }}</span>
                </div>
                <div>
                    <span class="clickable">comments</span>
                    <span class="counter">77</span>
                </div>
            </div>

            <div class="post-info">
                <h2>{{ post.title }}</h2>
                by <i>{{ post.author }}</i> at <b>{{ post.creation_date }}</b>
            </div>

            <div class="source clickable">
                <a href="{{ post.link }}">
                    {{ post.link }}
                </a>
            </div>
        </div>
        {% endfor %}
    {% else %}
        <h2>No posts yet...</h2>
    {% endif %}
    </main>
{% endblock %}